                  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                  â•‘   PROYECTO CLOUSECURITY - ESTRUCTURA     â•‘
                  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ ClouSecurity/
â”‚
â”œâ”€â”€ ğŸ”´ ESCENARIO INSEGURO (AnÃ¡lisis de Vulnerabilidades)
â”‚   â”œâ”€â”€ index-insecure.js          âš ï¸  App con vulnerabilidades intencionales
â”‚   â”œâ”€â”€ Dockerfile                  âš ï¸  Sin hardening de seguridad
â”‚   â”œâ”€â”€ deploy_vm.sh               âš ï¸  Despliegue bÃ¡sico en VM
â”‚   â””â”€â”€ package.json               ğŸ“¦  Dependencias mÃ­nimas
â”‚
â”œâ”€â”€ ğŸŸ¢ ESCENARIO SEGURO (Mejores PrÃ¡cticas)
â”‚   â”œâ”€â”€ secure/
â”‚   â”‚   â”œâ”€â”€ index-secure.js        âœ…  App con controles de seguridad
â”‚   â”‚   â”œâ”€â”€ Dockerfile.secure      âœ…  Dockerfile con hardening
â”‚   â”‚   â””â”€â”€ package.json           âœ…  Incluye helmet, rate-limit, etc.
â”‚   â””â”€â”€ deploy_gcloud_secure.sh    âœ…  Despliegue en Cloud Run + Secret Manager
â”‚
â”œâ”€â”€ ğŸ­ DOCKER COMPOSE (Demo Local)
â”‚   â”œâ”€â”€ docker-compose.yml         ğŸ³  OrquestaciÃ³n de ambos escenarios
â”‚   â”œâ”€â”€ demo.sh                    ğŸ–¥ï¸  Script interactivo (Linux/Mac)
â”‚   â”œâ”€â”€ demo.bat                   ğŸ–¥ï¸  Script interactivo (Windows)
â”‚   â””â”€â”€ .env.example               ğŸ”‘  Variables de entorno ejemplo
â”‚
â”œâ”€â”€ ğŸ“š DOCUMENTACIÃ“N
â”‚   â”œâ”€â”€ README.md                   ğŸ“–  DocumentaciÃ³n principal
â”‚   â”œâ”€â”€ QUICKSTART.md              ğŸš€  GuÃ­a rÃ¡pida de ejecuciÃ³n
â”‚   â”œâ”€â”€ DOCKER_COMPOSE_GUIDE.md    ğŸ³  GuÃ­a de Docker Compose
â”‚   â”œâ”€â”€ SECURITY_COMPARISON.md     ğŸ“Š  AnÃ¡lisis comparativo detallado
â”‚   â”œâ”€â”€ RESUMEN_EJECUTIVO.md       ğŸ“‹  Resumen del proyecto
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE.txt      ğŸ“  Este archivo
â”‚   â””â”€â”€ report/
â”‚       â””â”€â”€ report.tex             ğŸ“„  Informe acadÃ©mico LaTeX
â”‚
â””â”€â”€ ğŸ”§ UTILIDADES
    â”œâ”€â”€ deploy_gcloud.sh           ğŸŒ  Despliegue Cloud Run (original)
    â””â”€â”€ prepare_for_pull.sh        ğŸ”„  PreparaciÃ³n para Git

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        ğŸ¯ RESUMEN DEL PROYECTO

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OBJETIVO: AnÃ¡lisis comparativo de seguridad en la nube                  â”‚
â”‚                                                                          â”‚
â”‚ MÃ‰TODO: Dos escenarios paralelos (inseguro vs seguro)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ğŸ”´ ESCENARIO 1: INSEGURO                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TecnologÃ­a:  VM + Docker + HTTP                                         â”‚
â”‚ URL:         http://34.70.59.227:8080                                   â”‚
â”‚ API Key:     changeme (predecible)                                      â”‚
â”‚                                                                         â”‚
â”‚ Vulnerabilidades demostradas:                                          â”‚
â”‚  âŒ HTTP sin cifrado                                                    â”‚
â”‚  âŒ Credenciales hardcodeadas                                          â”‚
â”‚  âŒ Puerto expuesto pÃºblicamente                                       â”‚
â”‚  âŒ Sin rate limiting                                                   â”‚
â”‚  âŒ Container ejecutando como root                                     â”‚
â”‚  âŒ Sin validaciÃ³n de entrada                                          â”‚
â”‚  âŒ Logging insuficiente                                               â”‚
â”‚                                                                         â”‚
â”‚ Prueba:                                                                 â”‚
â”‚  curl http://34.70.59.227:8080/secure -H "x-api-key: changeme"        â”‚
â”‚  âœ… ACCESO CONCEDIDO (Â¡VULNERABLE!)                                     â”‚
â”‚                                                                         â”‚
â”‚ PuntuaciÃ³n: 25/100 â›” NO APTO PARA PRODUCCIÃ“N                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ğŸŸ¢ ESCENARIO 2: SEGURO                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TecnologÃ­a:  Cloud Run + Secret Manager + HTTPS                        â”‚
â”‚ URL:         https://cloudsec-secure-xxx.run.app                       â”‚
â”‚ API Key:     64 caracteres aleatorios en Secret Manager                â”‚
â”‚                                                                         â”‚
â”‚ Controles implementados:                                               â”‚
â”‚  âœ… HTTPS automÃ¡tico (TLS 1.3)                                         â”‚
â”‚  âœ… IAM authentication                                                 â”‚
â”‚  âœ… Secret Manager para credenciales                                   â”‚
â”‚  âœ… Rate limiting (100 req/15min)                                      â”‚
â”‚  âœ… Usuario non-root en container                                      â”‚
â”‚  âœ… Input validation                                                   â”‚
â”‚  âœ… Helmet security headers                                            â”‚
â”‚  âœ… Logging estructurado                                               â”‚
â”‚  âœ… Escaneo de vulnerabilidades                                        â”‚
â”‚  âœ… ComparaciÃ³n timing-safe                                            â”‚
â”‚                                                                         â”‚
â”‚ Prueba:                                                                 â”‚
â”‚  curl https://cloudsec-secure-xxx.run.app/secure                       â”‚
â”‚  âŒ 403 FORBIDDEN (Â¡SEGURO!)                                            â”‚
â”‚                                                                         â”‚
â”‚  # Con autenticaciÃ³n completa:                                         â”‚
â”‚  TOKEN=$(gcloud auth print-identity-token)                             â”‚
â”‚  curl -H "Authorization: Bearer $TOKEN" \                              â”‚
â”‚       -H "x-api-key: <secret>" \                                       â”‚
â”‚       https://cloudsec-secure-xxx.run.app/secure                       â”‚
â”‚  âœ… ACCESO CONCEDIDO (con auditorÃ­a)                                    â”‚
â”‚                                                                         â”‚
â”‚ PuntuaciÃ³n: 85/100 âœ… APTO PARA PRODUCCIÃ“N                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    ğŸ“‹ INSTRUCCIONES DE EJECUCIÃ“N

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ OPCIÃ“N 1: Docker Compose (Local) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â­ RECOMENDADO PARA DEMOSTRACIONES                                     â”‚
â”‚                                                                         â”‚
â”‚  Windows:                                                              â”‚
â”‚     demo.bat                                                           â”‚
â”‚                                                                         â”‚
â”‚  Linux/Mac:                                                            â”‚
â”‚     chmod +x demo.sh                                                   â”‚
â”‚     ./demo.sh                                                          â”‚
â”‚                                                                         â”‚
â”‚  O manualmente:                                                        â”‚
â”‚     docker-compose up -d              # Ambos escenarios              â”‚
â”‚     docker-compose up -d insecure     # Solo inseguro (8080)          â”‚
â”‚     docker-compose up -d secure       # Solo seguro (8443)            â”‚
â”‚                                                                         â”‚
â”‚  Acceso:                                                               â”‚
â”‚     INSEGURO: http://localhost:8080                                   â”‚
â”‚     SEGURO:   http://localhost:8443                                   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ OPCIÃ“N 2: Escenario Inseguro en VM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                         â”‚
â”‚  1. Conectar a tu VM:                                                  â”‚
â”‚     gcloud compute ssh cloudsec-vm --zone=us-central1-a                â”‚
â”‚                                                                         â”‚
â”‚  2. Clonar el repo:                                                    â”‚
â”‚     git clone https://github.com/Gpcaceres/ClouSecurity.git            â”‚
â”‚     cd ClouSecurity                                                    â”‚
â”‚                                                                         â”‚
â”‚  3. Desplegar:                                                         â”‚
â”‚     chmod +x deploy_vm.sh                                              â”‚
â”‚     ./deploy_vm.sh                                                     â”‚
â”‚                                                                         â”‚
â”‚  4. Probar vulnerabilidad:                                             â”‚
â”‚     curl http://34.70.59.227:8080/secure -H "x-api-key: changeme"     â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ OPCIÃ“N 3: Escenario Seguro en Cloud Run â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                         â”‚
â”‚  1. En tu mÃ¡quina local, autenticar:                                   â”‚
â”‚     gcloud auth login                                                  â”‚
â”‚                                                                         â”‚
â”‚  2. Desplegar versiÃ³n segura:                                          â”‚
â”‚     cd ClouSecurity                                                    â”‚
â”‚     chmod +x deploy_gcloud_secure.sh                                   â”‚
â”‚     PROJECT_ID=tu-proyecto ./deploy_gcloud_secure.sh                   â”‚
â”‚                                                                         â”‚
â”‚  3. Guardar la API key generada (se muestra solo una vez)             â”‚
â”‚                                                                         â”‚
â”‚  4. Probar seguridad:                                                  â”‚
â”‚     # Sin auth - debe fallar                                           â”‚
â”‚     curl https://cloudsec-secure-xxx.run.app/secure                    â”‚
â”‚                                                                         â”‚
â”‚     # Con auth completa - debe funcionar                               â”‚
â”‚     TOKEN=$(gcloud auth print-identity-token)                          â”‚
â”‚     curl -H "Authorization: Bearer $TOKEN" \                           â”‚
â”‚          -H "x-api-key: <tu-api-key>" \                                â”‚
â”‚          https://cloudsec-secure-xxx.run.app/secure                    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    ğŸ“Š DOCUMENTACIÃ“N GENERADA

âœ… README.md                    - DocumentaciÃ³n principal del proyecto
âœ… QUICKSTART.md               - GuÃ­a paso a paso de ejecuciÃ³n
âœ… DOCKER_COMPOSE_GUIDE.md     - GuÃ­a de Docker Compose para demo local
âœ… SECURITY_COMPARISON.md      - AnÃ¡lisis detallado de vulnerabilidades
âœ… RESUMEN_EJECUTIVO.md        - Resumen ejecutivo del proyecto
âœ… report/report.tex           - Plantilla para informe acadÃ©mico
âœ… index-insecure.js           - App insegura con comentarios explicativos
âœ… secure/index-secure.js      - App segura con mejores prÃ¡cticas
âœ… Dockerfiles                 - Ambas versiones con comentarios
âœ… docker-compose.yml          - OrquestaciÃ³n de ambos escenarios

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    ğŸ“ OBJETIVOS DE APRENDIZAJE

1. âœ… Identificar vulnerabilidades comunes en despliegues cloud
2. âœ… Entender el modelo de responsabilidad compartida (IaaS vs PaaS)
3. âœ… Implementar gestiÃ³n segura de secretos con Secret Manager
4. âœ… Aplicar principio de menor privilegio (IAM, non-root users)
5. âœ… Configurar defensa en profundidad (mÃºltiples capas)
6. âœ… Implementar logging y monitoreo para detecciÃ³n de incidentes
7. âœ… Comparar superficie de ataque entre arquitecturas
8. âœ… Aplicar mejores prÃ¡cticas de containerizaciÃ³n

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    ğŸ” PRÃ“XIMOS PASOS

[ ] 1. Ejecutar ambos escenarios
[ ] 2. Tomar capturas de pantalla de las pruebas
[ ] 3. Documentar hallazgos en SECURITY_COMPARISON.md
[ ] 4. Completar report.tex con tus observaciones
[ ] 5. Compilar PDF: pdflatex report/report.tex
[ ] 6. Preparar presentaciÃ³n comparativa

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    ğŸ’¡ TIPS IMPORTANTES

âš ï¸  El escenario INSEGURO es intencional - NUNCA usar en producciÃ³n
âœ…  El escenario SEGURO implementa mejores prÃ¡cticas reales
ğŸ“¸  Documenta TODO con capturas de pantalla
ğŸ”‘  Guarda la API key generada - no se puede recuperar despuÃ©s
ğŸ§¹  No olvides limpiar recursos al terminar para evitar costos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

              Â¡PROYECTO LISTO PARA ANÃLISIS DE SEGURIDAD!

          Lee QUICKSTART.md para instrucciones paso a paso
          Lee SECURITY_COMPARISON.md para anÃ¡lisis detallado

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
